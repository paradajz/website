<!DOCTYPE html> <html lang="zxx"> <head> <!-- meta --> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=""> <!-- Facebook Open Graph --> <meta content="Shantea Controls" property="og:site_name"> <meta property="og:locale" content="en_US"> <meta content="Using The New Program Change Offset Features In OpenDeck v7.3.0" property="og:title"> <meta content="article" property="og:type"> <meta content="" property="og:description"> <meta content="https://shanteacontrols.com/2022/06/24/new-pco-features/" property="og:url"> <meta content="new-pco-features/01.png" property="og:image"> <meta content="opendeck" property="article:tag"> <meta content="2022-06-24T00:00:00+00:00" property="article:published_time"> <!-- Twitter cards --> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="Using The New Program Change Offset Features In OpenDeck v7.3.0"> <meta name="twitter:description" content=""> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://shanteacontrols.comnew-pco-features/01.png"> <!-- Site Title --> <title> Using The New Program Change Offset Features In OpenDeck v7.3.0 &#8226 Shantea Controls Blog </title> <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"> <!-- gulp:css --> <link rel="stylesheet" href="/css/blog/app.css"> <!-- endgulp --> <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600" rel="stylesheet"> </head> <nav class="navbar navbar-default fixed-top"> <div class="container-fluid"> <div class="navbar-header"> <a href="/blog/blog.html"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/> <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/> </svg> </a> <a href="/pages/tags/"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16"> <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/> </svg> </a>  </div> </div> </nav> <body class="post-template"> <div class="page-header grey-bg mt-5 pb-100 mb-100 pt-85 clearfix"> <div class="container"> <div class="row"> <div class="col"> <div class="author-text"> <div class="single-author-d w-100"> <div class="title"> <h2 class="mb-0 text-center">Using The New Program Change Offset Features In OpenDeck v7.3.0</h2> </div> <div class="post-meta d-flex"> <ul class="post-sp-meta list-inline mx-auto my-0"> <li class="list-inline-item"> <i class="fa fa-clock-o"></i>24 June 2022 </li> </ul> </div> </div> </div> </div> </div> </div> </div> <div class="post-content-area pb-100 clearfix"> <div class="container"> <div class="row"> <div class="col-lg-10 mx-auto"> <div class="s-post-details"> <div class="post-image mb-4"> <img class="mx-auto d-block" src="/images/blog/new-pco-features/01.png" alt="Using The New Program Change Offset Features In OpenDeck v7.3.0"> </div> <div class="entry-content"><p><em>This is a guest post by Ricky Sheaves aka n3wkular.</em></p> <p>OpenDeck is hands-down the most robust DIY MIDI contoller platform available. I’ve used it to build mixing console controllers for my DAW, dedicated look-alike hardware controllers for my favourite software plugin emulations, and more. But there was one thing I wished it could do even better: integrate with guitar amplifier and effects simulation software like IK Multimedia’s AmpliTube.</p> <p>So, I <a href="https://github.com/shanteacontrols/OpenDeck/discussions/157">wrote that idea up along with a high-level UX design</a> in OpenDeck’s GitHub project. In just a few days, paradajz had implemented and refined it further, and released the new functionality in <a href="https://github.com/shanteacontrols/OpenDeck/releases/tag/v7.3.0">v7.3.0 of the OpenDeck firmware</a> and the (brilliant!) web Configurator. Now, I am in the midst of waiting for parts to arrive, designing my enclosure, and all the other finish work to build a custom DIY controller with this new feature.</p> <p>To understand why you would need the new functionality, let’s examine the UX challenges in building a MIDI controller for guitar amplifier and effects similuation software, and let’s use [IK Multimedia’s AmpliTube]: https://www.ikmultimedia.com/products/amplitube5/ as the example.</p> <p>AmpliTube supports MIDI CC messages to control many parameters in the software; from engaging or bypassing virtual effects pedals, to switching channels on an amplifier emulation, controlling its volume, and so on. Using OpenDeck to control the software in this way has always been simple; you build a hardware controller to act like a physical pedal board and map the CC messages accordingly. Such a controller might have 6, 8, 10 or more “stomp”-style foot switches, and possibly some pots or encoders, providing everything you need to control a “virtual guitar rig”.</p> <p>However, for many guitarists, the real power in AmpliTube is that it also supports up to 128 user “presets” when in “Live” mode, each defining a unique combination of virtual pedals, amplifiers, cabinets, and rack effects, and all with pre-programmed parameter values. In other words, you can store up to <em>128 distinct virtual guitar rigs</em> and recall each with a MIDI Program Change message. At first, that might seem like overkill, but I routinely use 20 or more such presets in a single night’s performance, and often 3 or 4 presets in a single song.</p> <p>The trick in building a controller for this purpose is balancing functionality with usability. I certainly don’t want a controller with 20+ foot switches on it; while perfectly functional, that’s not particularly usable and it’s larger than it should be, in my mind. Just imagine the cover band guitarist that would need 50 or more different foot switches for their setups!</p> <p>A more elegant solution would be a controller with just a few foot switches that allows the player to “page” through <em>logical groupings of presets</em>, much the same way the octave up/down buttons on a MIDI keyboard controller pages through the octaves. In that UX, a single musical key can send a different note value depending on the currently selected octave. Likewise, on our AmpliTube controller, we could configure any single foot switch to send different Program Change values, depending on which logical group of presets is currently selected; this is where the new <a href="https://github.com/shanteacontrols/OpenDeck/wiki/Configurable-features#message-type">Program Change Offset features</a> of OpenDeck v7.3.0 comes in.</p> <p>The controller I am building looks and works like this (when I complete the physical controller, I’ll update the image!):</p> <p><img src="/images/blog/new-pco-features/01.png" alt=""></p> <ul> <li>AmpliTube logically organises presets in groups of 4. So, my controller has 4 <em>Program Change</em> foot switches, numbered 1-4. In the Configurator, these are <em>Buttons</em> with <em>Message Type</em> set to <em>Program Change</em>, and their values are 0-3. <em>(I know, it’s a little confusing: AmpliTube presets start at 001 in its UI, but PC#0 for Program Changes. So, PC#0 recalls preset 001, PC#1 recalls preset 002, and so on.)</em></li> <li>The <em>Program Change Offset</em> UP/DOWN foot switches are configured for the new <a href="https://github.com/shanteacontrols/OpenDeck/wiki/Configurable-features#message-type"><em>Program Change Offset Increment</em> and <em>Decrement Message Types</em></a>. The value can be anything from 1 to 128, but I have 4 <em>Program Change</em> foot switches, so I set the value to 4 for both the UP and DOWN foot switches. Pressing the UP button adds 4 to the current offset value, and pressing DOWN subtracts 4. The offset cannot go lower than 0.</li> <li>In the mockup image above, the current <em>Program Change Offset</em> value is displayed in the blue OLED display; it’s 04.</li> <li>There are also 4 LEDs: one LED for each of the <em>Program Change</em> foot switches. Since only one preset can be loaded at a time, the LEDs indicate which of the 4 <em>Program Change</em> foot switches was last pressed. In order to make the LEDs use the new <em>Program Change Offset</em> value, a <a href="https://github.com/shanteacontrols/OpenDeck/wiki/Configurable-features#global-parameters">new Use MIDI Program Change Offset</a> option has been added to the LED &gt; Global page of the Configurator.</li> </ul> <p><img src="/images/blog/new-pco-features/ledpco.png" alt=""></p> <p>Using the controller works like this:</p> <ul> <li>To recall AmpliTube preset 001, use the <em>Program Change Offset</em> foot switches to set the current offset to 00. Then press the 1 foot switch.</li> <li>To recall AmpliTube preset 005, use the <em>Program Change Offset</em> foot switches to set the current offset to 04, and press the 1 foot switch.</li> <li>To recall AmpliTube preset 011, set the current offset to 08, and press the 3 foot switch.</li> <li>And so on.</li> </ul> <p>The pattern is simpler than it might seem; when pressing a <em>Program Change</em> button, the PC value that gets sent is calculated as <em>(Program Change Offset + Button Program Change Value)</em>. So, when the <em>Program Change Offset</em> is 8, pressing the 3 foot switch recalls preset 011 in AmpliTube. 8 + 3 = 11. Easy, right?</p> <p>With some thoughtful organisation of your presets in AmpliTube, loading the one you want at specific moments in your performance should only take a few presses of the foot switches. Personally, I like arranging the presets so that I don’t have to press the <em>Program Change Offset</em> buttons during any given song. (This results in some empty or duplicate AmpliTube presets in come cases, but I prefer the simplicity.)</p> <h2 id="but-wait-theres-more">But Wait, There’s More!</h2> <p>Remember how I said that AmpliTube also supports CC messages to control individual parameters like virtual effect pedal bypass? The v0.1 controller above is only useful for changing presets, but not for sending CC messages. Let’s look at v0.2 of the controller:</p> <p><img src="/images/blog/new-pco-features/02.png" alt=""></p> <p>Note the PC/CC Mode foot switch and LED. This allows the user to toogle between 2 <a href="https://github.com/shanteacontrols/OpenDeck/wiki/Configurable-features#presets">OpenDeck presets</a>: one in which the 1-4 buttons are configured for PC messages, and the other in which they are configured for CC messages. The LED toggles between red and green to indicate which mode the controller is in. This is extremely useful for turning on and off specific pedals in an AmpliTube preset. The most obvious use is a Boost or Over Drive pedal.</p> <p>For example:</p> <ul> <li>In PC Mode, while <em>Program Change Offset</em> is 00, recall preset 001 by pressing foot switch 1.</li> <li>Press the PC/CC Mode button to switch to CC Mode, which, behind the scenes, changes the active OpenDeck preset. (<strong>NOT</strong> the AmpliTube preset in this case!)</li> <li>In AmpliTube, if I’ve mapped a boost pedal to foot switch 1’s CC, I can enable it or bypass at any point during the performance. Basically, this enables me to use the controller like a traditional hardware pedalboard.</li> <li>To get to another preset from here, use the PC/CC Mode foot switch to switch OpenDeck presets again, and select the AmpliTube preset as before.</li> </ul> <p>To take it one step further, we could add an expression pedal to our controller (with an <em>Analog</em> input set to CC 7-bit and upper limit 127 in OpenDeck), and control our wah or volume pedals (or any other param!) in any given AmpliTube preset.</p> <p>Really powerful stuff. And the v7.3.0 OpenDeck firmware makes it all possible for DIYers!</p> <p>Cheers and be well!</p> </div> <div class="inner-padding fullwidth pb-60"> <div class="post-share-icon clearfix"> <div class="tag-list"> <div class="row"> <div class="col-md-8"> <p class="float-left pr-2"><strong>Tags :</strong></p> <ul class="float-left"> <li> <a href="/tag/opendeck/blog.html"> #opendeck</a> </li> </ul> </div> <div class="col-md-4"></div> </div> </div> </div> </div> </div> <div class="categories-carousel pb-60 clearfix"> <div class="section-title"> <h3>Related Posts</h3> </div> <div class="related-post-carousel owl-carousel"> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/5.png" alt="OpenDeck boards v3 now available"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available</a> </h3> <div class="btn-read"> <a href="/2022/06/20/opendeck-boards-v3-available-now/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/2.png" alt="OpenDeck boards v3 in development"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-boards-v3-in-development/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/ble.png" alt="OpenDeck v7"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-7/">OpenDeck v7</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-7/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/cover_opendeck_v6.jpg" alt="OpenDeck v6 - what comes next?"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2021/11/23/opendeck-6-what-comes-next/">OpenDeck v6 - what comes next?</a> </h3> <div class="btn-read"> <a href="/2021/11/23/opendeck-6-what-comes-next/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/blackpill411.jpg" alt="Support for new hardware"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2020/11/19/support-for-new-hardware/">Support for new hardware</a> </h3> <div class="btn-read"> <a href="/2020/11/19/support-for-new-hardware/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2020/11/11/opendeck-v2-boards-now-available/">OpenDeck v2 boards now available</a> </h3> <div class="btn-read"> <a href="/2020/11/11/opendeck-v2-boards-now-available/">Read More</a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <footer> <div class="footer-area clearfix"> <div class="container"> <div class="row"> <div class="col-lg-12"> <div class="footer-logo pb-100 pt-100 text-center"> <a href="https://shanteacontrols.com"> <img src="/images/logo_notext_inv.svg" alt="Shantea Controls"> </a> </div> </div> </div> <div class="row pb-60"> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> About </h4> </div> <div class="widget-text"> <p>Shantea Controls Blog</p> <div class="social-link"> <ul> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4>Recent posts</h4> </div> <div class="widget-text"> <div class="r-post"> <ul> <li><a href="/2022/06/24/new-pco-features/">Using The New Program Change Offset Features In OpenDeck v7.3.0 </a> </li> <li><a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available </a> </li> <li><a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development </a> </li> <li><a href="/2022/04/09/opendeck-7/">OpenDeck v7 </a> </li> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> Links</h4> </div> <div class="widget-text"> <div class="widget-link"> <ul> <ul> <li><a href="/" target="_blank">Main page</a></li> <li><a href="https://youtube.com/shanteacontrols" target="_blank">YouTube</a></li> <li><a href="https://www.facebook.com/shanteacontrolsmidi" target="_blank">Facebook</a></li> <li><a href="https://github.com/shanteacontrols/OpenDeck" target="_blank">GitHub</a></li> </ul> </ul></div> </div> </div> </div> </div> <div class="row"> <div class="col"> <div class="footer-text text-center"> <p class="footer-address"> &copy; 2024 Shantea Controls | Developed by <a href="https://themeix.com">themeix</a></p> </div> </div> </div> </div> </div> </footer> <script src="/js/blog/build.js"></script> </body> </html> 