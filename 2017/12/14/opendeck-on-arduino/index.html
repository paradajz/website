<!DOCTYPE html> <html lang="zxx"> <head> <!-- meta --> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=""> <!-- Facebook Open Graph --> <meta content="Shantea Controls" property="og:site_name"> <meta property="og:locale" content="en_US"> <meta content="OpenDeck on Arduino" property="og:title"> <meta content="article" property="og:type"> <meta content="" property="og:description"> <meta content="https://shanteacontrols.com/2017/12/14/opendeck-on-arduino/" property="og:url"> <meta content="7230d-23800061_723673337825909_7076454715108837225_o.jpg" property="og:image"> <meta content="announce" property="article:tag"> <meta content="arduino" property="article:tag"> <meta content="opendeck" property="article:tag"> <meta content="2017-12-14T00:00:00+00:00" property="article:published_time"> <!-- Twitter cards --> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="OpenDeck on Arduino"> <meta name="twitter:description" content=""> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://shanteacontrols.com7230d-23800061_723673337825909_7076454715108837225_o.jpg"> <!-- Site Title --> <title> OpenDeck on Arduino &#8226 Shantea Controls Blog </title> <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"> <!-- gulp:css --> <link rel="stylesheet" href="/css/blog/app.css"> <!-- endgulp --> <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600" rel="stylesheet"> </head> <nav class="navbar navbar-default fixed-top"> <div class="container-fluid"> <div class="navbar-header"> <a href="/blog/blog.html"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/> <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/> </svg> </a> <a href="/pages/tags/"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16"> <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/> </svg> </a>  </div> </div> </nav> <body class="post-template"> <div class="page-header grey-bg mt-5 pb-100 mb-100 pt-85 clearfix"> <div class="container"> <div class="row"> <div class="col"> <div class="author-text"> <div class="single-author-d w-100"> <div class="title"> <h2 class="mb-0 text-center">OpenDeck on Arduino</h2> </div> <div class="post-meta d-flex"> <ul class="post-sp-meta list-inline mx-auto my-0"> <li class="list-inline-item"> <i class="fa fa-clock-o"></i>14 December 2017 </li> </ul> </div> </div> </div> </div> </div> </div> </div> <div class="post-content-area pb-100 clearfix"> <div class="container"> <div class="row"> <div class="col-lg-10 mx-auto"> <div class="s-post-details"> <div class="post-image mb-4"> <img class="mx-auto d-block" src="/images/blog/7230d-23800061_723673337825909_7076454715108837225_o.jpg" alt="OpenDeck on Arduino"> </div> <div class="entry-content"><p>There’s an old saying which goes “if you can’t beat them - join them”. That kind of sums up latest OpenDeck development efforts.</p> <h2 id="selling-opendeck-boards">Selling OpenDeck boards</h2> <p>Selling pre-assembled OpenDeck boards turned out to be not-so-profitable business. Actually, I was losing money on it. Once I’ve added up all the ridiculous taxes, import fees, PayPal fees, shipment etc. it turned out everyone else is making money on me, and I was losing money in the process. Granted, I was ordering small amount of OpenDeck boards, and ordering small amount of PCBs is never quite cheap, however I can’t really order hundreds of boards at this moment since demand isn’t that high yet. Instead, I’ve came up with other tactic.</p> <h2 id="arduino">Arduino</h2> <p>Pretty much anyone involved in some kind of electronic DIY project owns at least one of the <a href="https://www.arduino.cc/en/Main/Boards">Arduino boards</a>. They are really cheap and good enough for most simple projects. One of those projects is often <a href="https://trends.google.com/trends/explore?q=arduino%20midi">building a MIDI controller</a>. So, how do people build MIDI controllers with Arduino? That’s actually not so simple task. Arduino doesn’t have easy to use USB MIDI support unless you code it yourself. You need to be a decent programmer to write MIDI controller software. You need to debug problems more often than not. All things considered, building MIDI controller with Arduino can quickly become a daunting task. There is, however, an alternative.</p> <h2 id="opendeck-software--arduino-hardware">OpenDeck software + Arduino hardware</h2> <p>OpenDeck is <a href="https://ask.audio/articles/review-shantea-controls-opendeck-custom-midi-controller-platform">really simple to use</a>. Plug in the board to PC, PC immediately recognises new USB MIDI device and you’re pretty much good to go. Thing is, you need OpenDeck board for this, and there aren’t really that many boards around. What if you could run OpenDeck software on Arduino instead? Well, that’s exactly what I’ve done.</p> <h3 id="arduino-leonardo-and-pro-micro">Arduino Leonardo and Pro Micro</h3> <p>First I’ve started with Arduino Leonardo and Pro Micro boards. They actually use exactly the same microcontroller as official OpenDeck boards - Atmel ATmega32u4. Making OpenDeck run on these boards was a simple matter of correctly defining pin addresses in firmware and I was good to go.</p> <h3 id="arduino-uno-and-mega2560">Arduino Uno and Mega2560</h3> <p>Getting OpenDeck to run on these boards was a bit more complex. In case you’re not familiar, these boards actually come with two microcontrollers on board - one main MCU, for which you actually write software (for Uno that is ATmega328 and for Mega that is ATmega2560) and other one (ATmega16u2) which actually serves as USB interface between your PC and main MCU on Arduino board. This MCU enumerates as Virtual COM port on PC, so, when you program the Arduino or read serial input from it, this MCU acts like a gateway between main MCU and your PC. The good thing about this is that Arduino boards actually have header on board which you can use to program this MCU, so, I’ve programmed it to act like a USB MIDI hardware. Entire communication process between PC and Arduino boards running OpenDeck software is really similar to original solution: all MIDI data sent from PC to Arduino first goes to ATmega16u2 MCU which then simply passes that same data to main Arduino MCU using serial link (also vice-versa), just like before.</p> <p><img src="/images/blog/83930-24210352_727052300821346_3201283979179968047_o.jpg" alt=""></p> <h2 id="outcome">Outcome</h2> <p>Now, Arduino Micro, Leonardo, Uno and Mega2560 can all run OpenDeck software. Plug your reprogrammed Arduino into PC, and PC recognises it as class-compliant USB MIDI device. Also, <a href="https://config.shanteacontrols.com/">OpenDeck configurator</a> recognises the board immediately and you can start configuring your brand new Arduino/OpenDeck board, just like with the official setup. The same I/O pins that you use on Arduino boards are used in OpenDeck firmware, so supported number of components is same as in original Arduino boards.</p> <h2 id="availability">Availability</h2> <p>To get OpenDeck on Arduino, there are three options:</p> <ol> <li>Buy pre-configured Arduino board directly from me. This saves you a lot of hassle with compiling and uploading the code to Arduino (you will also need AVR programmer such as <a href="http://www.fischl.de/usbasp/">USBasp</a> or <a href="http://www.atmel.com/tools/avrispmkii.aspx">AVRISP mkII</a>). The pricing for this option is listed on my new <a href="https://shanteacontrols.com/">website.</a></li> <li>Buy pre-compiled firmware and upload it to Arduino yourself. If you already happen to have Arduino boards laying around together with AVR programmer, you can buy pre-compiled firmware from me for 20€.</li> <li>Download the source code from <a href="https://github.com/shanteacontrols/OpenDeck">GitHub</a>, compile it and upload to Arduino yourself. This is for brave souls only - you will need Linux-based environment to compile the code, as well as familiarity with command-line tools.</li> </ol> <h2 id="future">Future</h2> <p>Based on interest, I plan to make OpenDeck available on more powerful ARM-based development boards, such as ST STM32 series. Also, plan is to add support for more complex components, such as OLED/LCD screens, accelerometers, gyroscopes and other more advanced sensors.</p> <h2 id="edit">EDIT:</h2> <p>As of OpenDeck v3.0.0 pre-compiled Arduino binaries are part of the <a href="https://github.com/shanteacontrols/OpenDeck/releases">release on GitHub</a>. Also, pre-configured Arduino boards are now available on <a href="https://www.tindie.com/stores/paradajz/">Tindie</a>.</p> <h2 id="edit-2">EDIT 2:</h2> <p>See status of Arduino <a href="https://shanteacontrols.com/2019/07/02/status-of-opendeck-on-arduino">here</a>.</p> </div> <div class="inner-padding fullwidth pb-60"> <div class="post-share-icon clearfix"> <div class="tag-list"> <div class="row"> <div class="col-md-8"> <p class="float-left pr-2"><strong>Tags :</strong></p> <ul class="float-left"> <li> <a href="/tag/announce/blog.html"> #announce</a> </li> <li> <a href="/tag/arduino/blog.html"> #arduino</a> </li> <li> <a href="/tag/opendeck/blog.html"> #opendeck</a> </li> </ul> </div> <div class="col-md-4"></div> </div> </div> </div> </div> </div> <div class="categories-carousel pb-60 clearfix"> <div class="section-title"> <h3>Related Posts</h3> </div> <div class="related-post-carousel owl-carousel"> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/5.png" alt="OpenDeck boards v3 now available"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available</a> </h3> <div class="btn-read"> <a href="/2022/06/20/opendeck-boards-v3-available-now/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/2.png" alt="OpenDeck boards v3 in development"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-boards-v3-in-development/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/ble.png" alt="OpenDeck v7"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-7/">OpenDeck v7</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-7/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/cover_opendeck_v6.jpg" alt="OpenDeck v6 - what comes next?"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2021/11/23/opendeck-6-what-comes-next/">OpenDeck v6 - what comes next?</a> </h3> <div class="btn-read"> <a href="/2021/11/23/opendeck-6-what-comes-next/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/166086360_207954164335998_7262799458133236482_n.jpg" alt="Regarding DubFocus"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2021/03/30/regarding-dubfocus/">Regarding DubFocus</a> </h3> <div class="btn-read"> <a href="/2021/03/30/regarding-dubfocus/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/blackpill411.jpg" alt="Support for new hardware"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2020/11/19/support-for-new-hardware/">Support for new hardware</a> </h3> <div class="btn-read"> <a href="/2020/11/19/support-for-new-hardware/">Read More</a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <footer> <div class="footer-area clearfix"> <div class="container"> <div class="row"> <div class="col-lg-12"> <div class="footer-logo pb-100 pt-100 text-center"> <a href="https://shanteacontrols.com"> <img src="/images/logo_notext_inv.svg" alt="Shantea Controls"> </a> </div> </div> </div> <div class="row pb-60"> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> About </h4> </div> <div class="widget-text"> <p>Shantea Controls Blog</p> <div class="social-link"> <ul> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4>Recent posts</h4> </div> <div class="widget-text"> <div class="r-post"> <ul> <li><a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available </a> </li> <li><a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development </a> </li> <li><a href="/2022/04/09/opendeck-7/">OpenDeck v7 </a> </li> <li><a href="/2021/11/23/opendeck-6-what-comes-next/">OpenDeck v6 - what comes next? </a> </li> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> Links</h4> </div> <div class="widget-text"> <div class="widget-link"> <ul> <ul> <li><a href="/" target="_blank">Main page</a></li> <li><a href="https://youtube.com/shanteacontrols" target="_blank">YouTube</a></li> <li><a href="https://www.facebook.com/shanteacontrolsmidi" target="_blank">Facebook</a></li> <li><a href="https://github.com/shanteacontrols/OpenDeck" target="_blank">GitHub</a></li> </ul> </ul></div> </div> </div> </div> </div> <div class="row"> <div class="col"> <div class="footer-text text-center"> <p class="footer-address"> &copy; 2022 Shantea Controls | Developed by <a href="https://themeix.com">themeix</a></p> </div> </div> </div> </div> </div> </footer> <script src="/js/blog/build.js"></script> </body> </html> 