<!DOCTYPE html> <html lang="zxx"> <head> <!-- meta --> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=""> <!-- Facebook Open Graph --> <meta content="Shantea Controls" property="og:site_name"> <meta property="og:locale" content="en_US"> <meta content="Display support on OpenDeck" property="og:title"> <meta content="article" property="og:type"> <meta content="" property="og:description"> <meta content="https://shanteacontrols.com/2018/03/02/display-support-opendeck/" property="og:url"> <meta content="63cee-10-1.jpg" property="og:image"> <meta content="announce" property="article:tag"> <meta content="opendeck" property="article:tag"> <meta content="2018-03-02T00:00:00+00:00" property="article:published_time"> <!-- Twitter cards --> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="Display support on OpenDeck"> <meta name="twitter:description" content=""> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://shanteacontrols.com63cee-10-1.jpg"> <!-- Site Title --> <title> Display support on OpenDeck &#8226 Shantea Controls Blog </title> <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"> <!-- gulp:css --> <link rel="stylesheet" href="/css/blog/app.css"> <!-- endgulp --> <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600" rel="stylesheet"> </head> <nav class="navbar navbar-default fixed-top"> <div class="container-fluid"> <div class="navbar-header"> <a href="/blog/blog.html"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/> <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/> </svg> </a> <a href="/pages/tags/"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16"> <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/> </svg> </a>  </div> </div> </nav> <body class="post-template"> <div class="page-header grey-bg mt-5 pb-100 mb-100 pt-85 clearfix"> <div class="container"> <div class="row"> <div class="col"> <div class="author-text"> <div class="single-author-d w-100"> <div class="title"> <h2 class="mb-0 text-center">Display support on OpenDeck</h2> </div> <div class="post-meta d-flex"> <ul class="post-sp-meta list-inline mx-auto my-0"> <li class="list-inline-item"> <i class="fa fa-clock-o"></i>02 March 2018 </li> </ul> </div> </div> </div> </div> </div> </div> </div> <div class="post-content-area pb-100 clearfix"> <div class="container"> <div class="row"> <div class="col-lg-10 mx-auto"> <div class="s-post-details"> <div class="post-image mb-4"> <img class="mx-auto d-block" src="/images/blog/63cee-10-1.jpg" alt="Display support on OpenDeck"> </div> <div class="entry-content"><p>So far, OpenDeck has been really good (IMO, at least) at handling the common components used to build MIDI controllers. What I’ve been wanting to do for quite some time already is to support displays on OpenDeck. Displays can be quite useful to give you visual representation of what is happening on the device, which is often times faster way than checking the software on your PC or other MIDI hardware. So, I’m happy to announce that OpenDeck software now officially supports LCD and OLED displays, with some limitations at the moment.<img src="/images/blog/68251-1.3-i2c-oled.jpg" alt=""></p> <p><img src="/images/blog/24235-20180218_1923490.jpg" alt=""></p> <p>On OpenDeck, displays are used to display incoming and outgoing MIDI data.</p> <h2 id="hardware">Hardware</h2> <p>On a hardware level, displays are handled using I2C protocol. I’ve chosen it because of its wiring simplicity as I2C only requires two lines for communication, called SDA and SCL. On top of that, I2C is expandable since it supports up to 127 devices on a bus, which is great since that gives me possibility to support other I2C capable hardware on OpenDeck in the future using those same two wires.</p> <h2 id="software">Software</h2> <p>On the software side of things, I’m using <a href="https://github.com/olikraus/u8g2/wiki">U8X8 library</a> since it already supports every relevant display controller out there, so why reinvent the wheel? Great thing about this library is that it writes data to displays directly, making it very lightweight and fast. Another great thing about it is that it allows custom hardware access to the displays. I’ve written a simple wrapper for the library for easier access, and to allow me to define a display resolution and controller in run-time. Because of this, it’s really simple to configure the display in the Web interface.</p> <h2 id="web-interface-configuration">Web interface configuration</h2> <p>As with all the supported components, display configuration is really simple. There’s a new option called Display on the sidebar in the interface. There are several configurable settings:</p> <ul> <li>Display state - Used to enable or disable the display.</li> <li>Display controller - Used to select controller which controls the display. Currently, only SSD1306 is tested because it’s the only one I have, but as I’ve said already, I’m supporting everything U8X8 library supports, so this isn’t a big issue.</li> <li>Display resolution - Used to select display resolution in pixels. I’ve tested 128x64 and 128x32 resolutions and they both work without issues.</li> <li>Welcome message on startup - When enabled, “Welcome!” text will be printed out letter by letter when the board is turned on.</li> <li>Version info on startup - When enabled, firmware and hardware version will be printed out when the board is turned on. If welcome message is enabled, this message will be printed after it.</li> <li>MIDI event retention - When this is enabled, last incoming or outgoing MIDI message will stay on display indefinitely, until new event happens. When disabled, last MIDI event stays for defined amount of time.</li> <li>Message retention time - Specifies time in seconds during which last MIDI message will be displayed. After this time, MIDI event will be cleared from display.</li> <li>Alternate note display - When this is enabled, MIDI notes will be displayed in “nicer” format, ie. C#2. Otherwise, raw MIDI note number will be displayed (0-127).</li> <li>Octave normalization value - Various software has different way of calculating MIDI octave, since there’s no really standardized way to do it. For instance, if we take MIDI note 0, “nicer” format of it is C (or C0). However, some software will display this note as C-1, and some as C-2. Instead of forcing my own preferred way of calculating it, user has a choice of octave “normalization”. For instance, if normalization is set to 0, than C0 will really be shown as C0. If normalization value is 2, C0 will be displayed as C-2.</li> </ul> <p><img src="/images/blog/17763-28335931_765190873674155_4257037372266251220_o.png" alt=""></p> <h2 id="limitations">Limitations</h2> <p>Currently, displays aren’t supported on official OpenDeck board, which may seem confusing and possibly dumb, but I’ve used all the pins already so I have none of them left, and of top of that, I don’t have enough memory or RAM to implement it, which isn’t ideal and will result in complete redesign of the OpenDeck board some time in the future. I’ve pretty much maxed out possibilities of ATmega32u4 that I’m using on OpenDeck boards. Because of this, displays are supported only on Arduino Mega and Teensy++ 2.0 boards at the moment, since they have much more memory and RAM, as well as free I2C pins.</p> </div> <div class="inner-padding fullwidth pb-60"> <div class="post-share-icon clearfix"> <div class="tag-list"> <div class="row"> <div class="col-md-8"> <p class="float-left pr-2"><strong>Tags :</strong></p> <ul class="float-left"> <li> <a href="/tag/announce/blog.html"> #announce</a> </li> <li> <a href="/tag/opendeck/blog.html"> #opendeck</a> </li> </ul> </div> <div class="col-md-4"></div> </div> </div> </div> </div> </div> <div class="categories-carousel pb-60 clearfix"> <div class="section-title"> <h3>Related Posts</h3> </div> <div class="related-post-carousel owl-carousel"> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/new-pco-features/01.png" alt="Using The New Program Change Offset Features In OpenDeck v7.3.0"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/06/24/new-pco-features/">Using The New Program Change Offset Features In OpenDeck v7.3.0</a> </h3> <div class="btn-read"> <a href="/2022/06/24/new-pco-features/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/5.png" alt="OpenDeck boards v3 now available"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available</a> </h3> <div class="btn-read"> <a href="/2022/06/20/opendeck-boards-v3-available-now/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/od3/2.png" alt="OpenDeck boards v3 in development"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-boards-v3-in-development/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/ble.png" alt="OpenDeck v7"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2022/04/09/opendeck-7/">OpenDeck v7</a> </h3> <div class="btn-read"> <a href="/2022/04/09/opendeck-7/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/cover_opendeck_v6.jpg" alt="OpenDeck v6 - what comes next?"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2021/11/23/opendeck-6-what-comes-next/">OpenDeck v6 - what comes next?</a> </h3> <div class="btn-read"> <a href="/2021/11/23/opendeck-6-what-comes-next/">Read More</a> </div> </div> </div> </div> </div> </div> <div class="single-item"> <div class="categories-post-image"> <img src="/images/blog/166086360_207954164335998_7262799458133236482_n.jpg" alt="Regarding DubFocus"> <div class="categories-post-hover text-center"> <div class="hover-details"> <div class="post-link"> <h3> <a href="/2021/03/30/regarding-dubfocus/">Regarding DubFocus</a> </h3> <div class="btn-read"> <a href="/2021/03/30/regarding-dubfocus/">Read More</a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <footer> <div class="footer-area clearfix"> <div class="container"> <div class="row"> <div class="col-lg-12"> <div class="footer-logo pb-100 pt-100 text-center"> <a href="https://shanteacontrols.com"> <img src="/images/logo_notext_inv.svg" alt="Shantea Controls"> </a> </div> </div> </div> <div class="row pb-60"> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> About </h4> </div> <div class="widget-text"> <p>Shantea Controls Blog</p> <div class="social-link"> <ul> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4>Recent posts</h4> </div> <div class="widget-text"> <div class="r-post"> <ul> <li><a href="/2022/06/24/new-pco-features/">Using The New Program Change Offset Features In OpenDeck v7.3.0 </a> </li> <li><a href="/2022/06/20/opendeck-boards-v3-available-now/">OpenDeck boards v3 now available </a> </li> <li><a href="/2022/04/09/opendeck-boards-v3-in-development/">OpenDeck boards v3 in development </a> </li> <li><a href="/2022/04/09/opendeck-7/">OpenDeck v7 </a> </li> </ul> </div> </div> </div> </div> <div class="col-lg-3 col-md-6"> <div class="footer-widget"> <div class="widget-title"> <h4> Links</h4> </div> <div class="widget-text"> <div class="widget-link"> <ul> <ul> <li><a href="/" target="_blank">Main page</a></li> <li><a href="https://youtube.com/shanteacontrols" target="_blank">YouTube</a></li> <li><a href="https://www.facebook.com/shanteacontrolsmidi" target="_blank">Facebook</a></li> <li><a href="https://github.com/shanteacontrols/OpenDeck" target="_blank">GitHub</a></li> </ul> </ul></div> </div> </div> </div> </div> <div class="row"> <div class="col"> <div class="footer-text text-center"> <p class="footer-address"> &copy; 2024 Shantea Controls | Developed by <a href="https://themeix.com">themeix</a></p> </div> </div> </div> </div> </div> </footer> <script src="/js/blog/build.js"></script> </body> </html> 